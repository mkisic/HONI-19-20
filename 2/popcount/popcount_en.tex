%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem statement
\begin{statement}[
  problempoints=110,
  timelimit=1 sekunda,
  memorylimit=512 MiB,
]{Popcount}

\textit{\textbf{M}iniature \textbf{Al}gebraic \textbf{Na}tural \textbf{R}elay}
(also called \texttt{MALNAR}) is the latest technological advancement in
the flourishing realm of small programmable devices. You can write
your own programs for this device using \textit{MalnarScript}, an esoteric
programming language with the following set of features:

\begin{itemize}[topsep=0pt]
   \item Input to the program is a single non-negative integer strictly less
         than $2^N$.
   \item Output of the program is a single non-negative integer strictly less
         than $2^N$.
   \item When programming in \textit{MalnarScript} you can only use one $N$-bit
         unsigned integer variable $A$. At the beginning of the program, this
         variable holds the input and its value at the end of the program is
         considered to be the program's output.
   \item The source code of \textit{MalnarScript} must consist of at most $K$
         commands of the form \texttt{A=<expr>} which are executed in
         order and each of them must consist of \textbf{at most a thousand}
         characters. The symbol \texttt{<expr>} is defined recursively as
         follows:
\end{itemize}

\begin{center}
  \texttt{<expr> = A | <num> | (<expr><operator><expr>)}
\end{center}

In other words, symbol \texttt{<expr>} can either be a variable $A$, or it can
conform to the definition of symbol \texttt{<num>}, or it can (inside parentheses)
represent a two-membered expression in which each operand conforms to the same
\texttt{<expr>} definition.

The symbol \texttt{<num>} in the definition above represents a non-negative
decimal integer strictly less than $2^N$, while the symbol
\verb|<operator>| can either be \verb|+|, \verb|-|, \verb|||,
\verb|&|, \verb|<<| or \verb|>>| which (in order) represent the operations
of addition, subtraction, bitwise or, bitwise and, left shift and right shift.

Also the character \texttt{A} can appear \texttt{at most 5 times} in the
\texttt{<expr>} symbol.

In the case of overflow or underflow when performing the operations of
addition and subtraction, \textit{MalnarScript} will perform those
operations modulo $2^N$. For example, when $N=3$ the expression $(7+3)$ will
evaluate to $2$ and the expression $(2-5)$ will evaluate to $5$ in
\texttt{MalnarScript}.

The right side of the equation in each command evaluates into a single number
which will then be stored into $A$. In order to evaluate the right hand side
expression, \textit{MalnarScript} first replaces each occurrence of $A$ with
its current value. The calculation of expression then proceeds as it would in
any mathematical expression, i.e., the parentheses take precedence. Note that
the priorities of operators (in term of operation order) are irrelevant because
the final result is completely defined by placement of parentheses.

Your task is to write a program which outputs a program in \textit{MalnarScript}
which calculates the number of ones in a binary representation of the input
value.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Input
\subsection*{Input}
The first line contains two integers $N$ and $K$ from the task description.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Output
\subsection*{Output}
In the first line you should output the number of commands of the produced
\textit{MalnarScript} program.

In the remaining lines you should output the commands of the sought program.
Each command must be printed in a separate line and must satisfy the syntax
of \texttt{MalnarScript} as described in the task description.

It is important that there are no unnecessary empty lines or extra whitespace
characters in the output. Each line (including the last) must be terminated by
the end-of-line character (\verb|'\n'|).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Scoring
\subsection*{Scoring}
{\renewcommand{\arraystretch}{1.4}
  \setlength{\tabcolsep}{6pt}
  \begin{tabular}{ccl}
 Subtask & Score & Constraints \\ \midrule
  1 & 15 & $2 \le N \le 100$, $K = N - 1$ \\
  2 & 15 & $N = 500$, $K = 128$ \\
  3 & 35 & $1 \le N \le 40$, $K=7$ \\
  4 & 45 & $100 \le N \le 500$, $K=10$
\end{tabular}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Examples
\subsection*{Examples}
\begin{tabularx}{\textwidth}{X'X}
\sampleinputs{test/popcount.dummy.in.1}{test/popcount.dummy.out.1} &
\sampleinputs{test/popcount.dummy.in.2}{test/popcount.dummy.out.2}
\end{tabularx}

\textbf{Clarification of the first example:} \\
$input=0 \Rightarrow output=(0-((0\&2)>>1))=(0-(0>>1))=(0-0)=0$\\
$input=1 \Rightarrow output=(1-((1\&2)>>1))=(1-(0>>1))=(1-0)=1$\\
$input=2 \Rightarrow output=(2-((2\&2)>>1))=(2-(2>>1))=(2-1)=1$\\
$input=3 \Rightarrow output=(3-((3\&2)>>1))=(3-(2>>1))=(3-1)=2$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% We're done
\end{statement}

%%% Local Variables:
%%% mode: latex
%%% mode: flyspell
%%% ispell-local-dictionary: "croatian"
%%% TeX-master: "../hio.tex"
%%% End:
